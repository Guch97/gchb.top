<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mirtio</title>
  <icon>https://www.gravatar.com/avatar/f1dc3fef7aa7d423fbf8844f32ff80b9</icon>
  <subtitle>To Be a Batter Me</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-10-29T12:18:05.022Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Mirtio</name>
    <email>930571051@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo博客优化：添加返回顶部功能</title>
    <link href="http://yoursite.com/2019/10/29/Hexo%E5%8D%9A%E5%AE%A2%E4%BC%98%E5%8C%96/"/>
    <id>http://yoursite.com/2019/10/29/Hexo博客优化/</id>
    <published>2019-10-29T08:48:49.000Z</published>
    <updated>2019-10-29T12:18:05.022Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h1 id="Hexo博客优化：添加返回顶部功能"><a href="#Hexo博客优化：添加返回顶部功能" class="headerlink" title="Hexo博客优化：添加返回顶部功能"></a>Hexo博客优化：添加返回顶部功能</h1><blockquote><p>其实在hexo中实现返回顶部相当简单，所有的东西都是模块化的。只要我们写好HTML文件、JS文件，放入相应的目录，然后在对应的网页位置引用就可以了 。这里分享我的代码和实现过程。</p></blockquote><ol><li>添加HTML代码。新建文件 /themes/light/layout/_partial/totop.ejs ，在文件中加入HTML代码：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;totop&quot; style=&quot;position:fixed;bottom:150px;right:50px;cursor: pointer;&quot;&gt;</span><br><span class="line">&lt;a title=&quot;返回顶部&quot;&gt;&lt;img src=&quot;/imgs/scrollup.png&quot;/&gt;&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></li></ol><ol start="2"><li>添加JS代码。新建文件 /themes/light/source/js/totop.js，在文件中添加javascript代码：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">(function($) &#123; </span><br><span class="line">// When to show the scroll link</span><br><span class="line">// higher number = scroll link appears further down the page   </span><br><span class="line">var upperLimit = 1000;</span><br><span class="line"></span><br><span class="line">// Our scroll link element</span><br><span class="line">var scrollElem = $(&apos;#totop&apos;);</span><br><span class="line">   </span><br><span class="line">// Scroll to top speed</span><br><span class="line">var scrollSpeed = 500;</span><br><span class="line">   </span><br><span class="line">// Show and hide the scroll to top link based on scroll position   </span><br><span class="line">scrollElem.hide();</span><br><span class="line">$(window).scroll(function () &#123;            </span><br><span class="line">var scrollTop = $(document).scrollTop();       </span><br><span class="line">if ( scrollTop &gt; upperLimit ) &#123;</span><br><span class="line">$(scrollElem).stop().fadeTo(300, 1); // fade back in           </span><br><span class="line">&#125;else&#123;       </span><br><span class="line">$(scrollElem).stop().fadeTo(300, 0); // fade out</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// Scroll to top animation on click</span><br><span class="line">$(scrollElem).click(function()&#123;</span><br><span class="line">$(&apos;html, body&apos;).animate(&#123;scrollTop:0&#125;, scrollSpeed); return false;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure></li></ol><p>如果对显示位置和回滚速度不太满意，可以修改以上代码的upperLimit和scrollSpeed参数即可。</p><ol start="3"><li>添加对HTML和JS文件的引用。修改themes/light/layout/_partial/after_footer.ejs文件，在文件末尾添加以下两行代码：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&apos;totop&apos;) %&gt;</span><br><span class="line">&lt;script src=&quot;&lt;%- config.root %&gt;js/totop.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol><p>大功告成！ 赶快 hexo s 看看效果吧。 如果一切顺利的话，看到的效果应该与本页面一样（保证页面够长），在页面右侧就有一个返回顶部的按钮了！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;Hexo博客优化：添加返回顶部功能&quot;&gt;&lt;a href=&quot;#Hexo博客优化：添加返回顶部功能&quot; class=&quot;headerlink&quot; title=&quot;Hexo博客优化
      
    
    </summary>
    
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>初见</title>
    <link href="http://yoursite.com/2019/09/27/%E5%88%9D%E8%A7%81/"/>
    <id>http://yoursite.com/2019/09/27/初见/</id>
    <published>2019-09-27T08:48:49.000Z</published>
    <updated>2019-09-27T09:06:44.039Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>你好，陌生人<br><img src="/2019/09/27/初见/1.png" alt="你好,陌生人"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;你好，陌生人&lt;br&gt;&lt;img src=&quot;/2019/09/27/初见/1.png&quot; alt=&quot;你好,陌生人&quot;&gt;&lt;/p&gt;

      
    
    </summary>
    
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
</feed>
